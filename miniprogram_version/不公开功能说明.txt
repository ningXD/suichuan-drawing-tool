# 小程序版本不公开功能说明

## 1. 全选删除所有教练密码验证功能
### 权值：1
### 功能描述：
当用户尝试全选删除所有教练时，系统会弹出密码输入框，要求输入正确密码才能执行删除操作。

### 实现位置：
batchDeleteNames函数（new_pages/new_updateCoach/new_updateCoach.js:56-73）

### 使用方法：
1. 进入更新教练页面
2. 点击"全选"复选框
3. 点击"删除"按钮
4. 在弹出的密码输入框中输入密码：123456
5. 点击"确定"即可删除所有教练

### 注意事项：
- 只有全选删除所有教练时才需要密码验证
- 密码硬编码在代码中，可通过修改deletePassword变量值更改密码
- 密码注释标记："更改删除权限密码"

## 2. 白名单功能
### 权值：2
### 功能描述：
白名单中的教练不会被抽到，可用于排除特定教练。

### 实现位置：
new_app.js中的initWhitelist函数（new_app.js:15-27）

### 使用方法：
1. 打开new_app.js文件
2. 找到白名单配置区（"白名单功能配置区"注释下）
3. 修改WHITELIST_DEFAULT常量数组，直接在这里设置默认白名单
   例如：const WHITELIST_DEFAULT = ['王昊宁', '江旭峰'];
4. 保存文件
5. 重新启动小程序，首次加载时会覆盖本地存储中的白名单

### 注意事项：
- 白名单教练不会出现在抽签结果中
- 白名单数据存储在小程序本地存储中
- WHITELIST_DEFAULT常量仅在首次加载或本地存储中没有白名单时生效
- 修改代码后需保存文件并重启小程序才能生效

## 3. 二维码生成功能
### 权值：3
### 功能描述：
生成二维码供用户扫描，扫描后可填写名字并提交到教练列表。

### 实现位置：
generateQRCode函数（new_pages/new_updateCoach/new_updateCoach.js:166-181）

### 使用方法：
1. 进入更新教练页面
2. 点击右上角的"生成二维码"按钮
3. 在弹出的二维码窗口中，用户可以扫描二维码填写名字
4. 填写完成后，名字会自动添加到教练列表中

### 注意事项：
- 二维码链接指向填写名字页面（/new_pages/new_fillName/new_fillName）
- 生成的二维码使用第三方API，实际项目中建议使用微信官方API

## 4. 抽签功能实现
### 权值：4
### 功能描述：
实现随机抽签功能，包含抽签动画和结果管理。

### 实现位置：
- startDrawing函数（new_pages/new_draw/new_draw.js:50-70）
- stopDraw函数（new_pages/new_draw/new_draw.js:73-96）

### 使用方法：
1. 进入抽签页面
2. 点击"开始抽签"按钮
3. 等待抽签动画结束或点击"停止抽签"按钮
4. 查看抽中结果
5. 已抽中教练会显示在"已抽中教练"列表中

### 注意事项：
- 抽签结果会自动从剩余教练中移除
- 可通过"重置抽签"按钮清空所有已抽中结果
- 白名单中的教练不会被抽到

## 权值说明：
权值用于标识功能的重要程度，权值越高，功能越重要。
- 权值1：基础安全功能，防止误操作
- 权值2：高级配置功能，影响抽签结果
- 权值3：核心交互功能，用于教练添加
- 权值4：核心业务功能，实现抽签逻辑

## 权限说明：
以上功能均为不公开功能，只有知道密码或能修改代码的人员才能使用。

## 修改说明：
- 删除权限密码可在代码中搜索"更改删除权限密码"注释找到并修改
- 白名单配置可直接修改new_app.js中的WHITELIST_DEFAULT常量

## 安全建议：
- 定期更换删除权限密码
- 仅授权可信人员修改代码
- 白名单设置后建议验证效果
- 二维码生成功能在正式环境中建议使用微信官方API